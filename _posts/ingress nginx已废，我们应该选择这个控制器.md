# é‡ç£…!Ingress NGINX 2026å¹´3æœˆåºŸå¼ƒ,é˜¿é‡Œäº‘ Higress æˆæœ€ä½³æ›¿ä»£æ–¹æ¡ˆ?

## å‰è¨€

å¦‚æœä½ æ­£åœ¨ä½¿ç”¨ Kubernetes,é‚£ä¹ˆè¿™æ¡æ¶ˆæ¯ä½ å¿…é¡»çŸ¥é“:Kubernetes SIG Network å’Œå®‰å…¨å“åº”å§”å‘˜ä¼šåˆšåˆšå®£å¸ƒ,**Ingress NGINX å°†äº 2026 å¹´ 3 æœˆæ­£å¼é€€å½¹**!è¿™æ„å‘³ç€ä¹‹åå°†ä¸å†æœ‰ä»»ä½•å®‰å…¨æ¼æ´ä¿®å¤ã€bug ä¿®å¤å’Œç‰ˆæœ¬æ›´æ–°ã€‚

ä½œä¸º Kubernetes ç”Ÿæ€ä¸­ä½¿ç”¨æœ€å¹¿æ³›çš„ Ingress æ§åˆ¶å™¨ä¹‹ä¸€,Ingress NGINX çš„é€€å½¹æ— ç–‘ç»™æ— æ•°ç”Ÿäº§ç¯å¢ƒå¸¦æ¥äº†å·¨å¤§æŒ‘æˆ˜ã€‚é‚£ä¹ˆ,æˆ‘ä»¬è¯¥å¦‚ä½•åº”å¯¹?æœ¬æ–‡å°†ä¸ºä½ æ·±åº¦è§£æè¿™ä¸€é‡å¤§å˜åŒ–,å¹¶ä¸ºä½ æ¨èä¸€ä¸ªå¼ºå¤§çš„æ›¿ä»£æ–¹æ¡ˆâ€”â€”**é˜¿é‡Œäº‘å¼€æºçš„ Higress**ã€‚

## ä¸€ã€éœ‡æ’¼!Ingress NGINX å®˜å®£é€€å½¹

### 1.1 å®˜æ–¹å…¬å‘Šæ ¸å¿ƒè¦ç‚¹

2025å¹´11æœˆ12æ—¥,Kubernetes å®˜æ–¹åšå®¢å‘å¸ƒäº†ä¸€åˆ™é‡ç£…å…¬å‘Š:

- â° **é€€å½¹æ—¶é—´**: 2026å¹´3æœˆ
- âŒ **åœæ­¢ç»´æŠ¤**: ä¸å†å‘å¸ƒæ–°ç‰ˆæœ¬
- âŒ **ä¸ä¿®å¤æ¼æ´**: ä»»ä½•å®‰å…¨æ¼æ´éƒ½ä¸ä¼šä¿®å¤
- âŒ **ä¸ä¿®å¤Bug**: æ‰€æœ‰bugéƒ½å°†æ°¸ä¹…å­˜åœ¨
- âœ… **ç°æœ‰éƒ¨ç½²**: ä»å¯ç»§ç»­è¿è¡Œ(ä½†é£é™©è‡ªè´Ÿ)
- âœ… **åˆ¶å“ä¿ç•™**: Helm charts å’Œé•œåƒä»å¯è®¿é—®

**å®˜æ–¹åŸæ–‡æ‘˜å½•:**
> "After that time, there will be no further releases, no bugfixes, and no updates to resolve any security vulnerabilities that may be discovered."

### 1.2 ä¸ºä»€ä¹ˆè¦åºŸå¼ƒ?

#### ç»´æŠ¤è€…ä¸¥é‡ä¸è¶³
- å¤šå¹´æ¥åªæœ‰ **1-2 ä¸ªäºº**åœ¨ä¸šä½™æ—¶é—´ç»´æŠ¤
- å·¥ä½œæ—¶é—´ä¹‹å¤–ã€å‘¨æœ«ç»´æŠ¤,éš¾ä»¥æŒç»­
- ç¤¾åŒºå¤šæ¬¡å‘¼åæœªèƒ½å¸å¼•æ–°ç»´æŠ¤è€…

#### æŠ€æœ¯å€ºåŠ¡ä¸å ªé‡è´Ÿ
- **Snippets æ³¨è§£**:æ›¾ç»çš„çµæ´»æ€§æˆäº†å®‰å…¨éšæ‚£,å…è®¸æ³¨å…¥ä»»æ„ NGINX é…ç½®
- **åŠŸèƒ½è¿‡äºå¤æ‚**:ç»´æŠ¤æˆæœ¬æé«˜
- **å®‰å…¨æ ‡å‡†å˜åŒ–**:æ›¾ç»çš„ç‰¹æ€§ç°åœ¨è¢«è§†ä¸ºä¸¥é‡ç¼ºé™·

#### æ›¿ä»£æ–¹æ¡ˆå¤±è´¥
- å»å¹´å®£å¸ƒå¼€å‘ **InGate** ä½œä¸ºæ›¿ä»£å“
- æœªèƒ½å¸å¼•è¶³å¤Ÿè´¡çŒ®è€…,å¼€å‘åœæ»
- InGate ä¹Ÿå°†ä¸€å¹¶é€€å½¹

### 1.3 å½±å“èŒƒå›´æœ‰å¤šå¤§?

**å¿«é€Ÿæ£€æŸ¥ä½ æ˜¯å¦å—å½±å“:**

```bash
kubectl get pods --all-namespaces --selector app.kubernetes.io/name=ingress-nginx
```

å¦‚æœæœ‰è¿”å›ç»“æœ,è¯´æ˜ä½ çš„é›†ç¾¤æ­£åœ¨ä½¿ç”¨ Ingress NGINX,**å¿…é¡»å°½å¿«è§„åˆ’è¿ç§»**!

### 1.4 ä¸è¿ç§»çš„é£é™©

- ğŸ”´ **å®‰å…¨é£é™©**: æ–°å‘ç°çš„æ¼æ´å°†æ°¸è¿œå­˜åœ¨
- ğŸ”´ **å…¼å®¹æ€§**: æ–°ç‰ˆæœ¬ Kubernetes å¯èƒ½ä¸å†å…¼å®¹
- ğŸ”´ **åˆè§„é—®é¢˜**: ä½¿ç”¨ä¸å†ç»´æŠ¤çš„è½¯ä»¶å¯èƒ½è¿åå®‰å…¨åˆè§„è¦æ±‚
- ğŸ”´ **æŠ€æœ¯å€º**: æ‹–å»¶è¶Šä¹…,è¿ç§»æˆæœ¬è¶Šé«˜

---

## äºŒã€æ›¿ä»£æ–¹æ¡ˆå…¨æ™¯:æˆ‘ä»¬æœ‰å“ªäº›é€‰æ‹©?

### 2.1 å®˜æ–¹é¦–æ¨:Gateway API

**ä¼˜åŠ¿:**
- âœ… Kubernetes å®˜æ–¹æ–°ä¸€ä»£æ ‡å‡†
- âœ… æ›´å¼ºå¤§çš„æµé‡ç®¡ç†èƒ½åŠ›
- âœ… è§’è‰²åˆ†ç¦»(åŸºç¡€è®¾æ–½ vs åº”ç”¨å¼€å‘)
- âœ… å¤šç§å®ç°å¯é€‰

**åŠ£åŠ¿:**
- âš ï¸ å­¦ä¹ æ›²çº¿é™¡å³­
- âš ï¸ é…ç½®å¤æ‚åº¦è¾ƒé«˜
- âš ï¸ ç”Ÿæ€è¿˜åœ¨æˆé•¿æœŸ

### 2.2 å…¶ä»–ä¸»æµé€‰æ‹©

| æ–¹æ¡ˆ | ä¼˜åŠ¿ | åŠ£åŠ¿ | é€‚ç”¨åœºæ™¯ |
|------|------|------|----------|
| **Traefik** | ç®€å•æ˜“ç”¨,è‡ªåŠ¨æœåŠ¡å‘ç° | æ€§èƒ½ä¸€èˆ¬ | ä¸­å°å‹é›†ç¾¤ |
| **HAProxy Ingress** | é«˜æ€§èƒ½,æˆç†Ÿç¨³å®š | é…ç½®å¤æ‚ | å¯¹æ€§èƒ½è¦æ±‚é«˜ |
| **APISIX Ingress** | æ’ä»¶ä¸°å¯Œ,åŠ¨æ€é…ç½® | å›½å†…å°ä¼— | API ç½‘å…³åœºæ™¯ |
| **Cilium Ingress** | é›†æˆ eBPF,é«˜æ€§èƒ½ | éœ€è¦ Cilium CNI | å·²ä½¿ç”¨ Cilium |
| **Higress** | å…¼å®¹æ€§å¼º,ç”Ÿæ€ä¸°å¯Œ | ç›¸å¯¹è¾ƒæ–° | å¹³æ»‘è¿ç§» |

### 2.3 ä¸ºä»€ä¹ˆæˆ‘é€‰æ‹© Higress?

ç»è¿‡æ·±å…¥å¯¹æ¯”,æˆ‘è®¤ä¸º **Higress** æ˜¯æœ€é€‚åˆä» Ingress NGINX è¿ç§»çš„æ–¹æ¡ˆ,åŸå› å¦‚ä¸‹:

---

## ä¸‰ã€æ·±åº¦è§£æ:Higress å‡­ä»€ä¹ˆæˆä¸ºæœ€ä½³æ›¿ä»£?

### 3.1 Higress æ˜¯ä»€ä¹ˆ?

**Higress** æ˜¯é˜¿é‡Œäº‘å¼€æºçš„äº‘åŸç”Ÿ API ç½‘å…³,åŸºäºé˜¿é‡Œå†…éƒ¨å¤šå¹´çš„ **Envoy + Istio** ç”Ÿäº§å®è·µ,ä¸“ä¸º Kubernetes ç¯å¢ƒè®¾è®¡ã€‚

**é¡¹ç›®åœ°ä½:**
- ğŸ† CNCF Sandbox é¡¹ç›®
- â­ GitHub Star æ•°æŒç»­å¢é•¿
- ğŸ¢ é˜¿é‡Œå·´å·´åŒ11æ ¸å¿ƒåŸºç¡€è®¾æ–½
- ğŸŒ å·²åœ¨å¤šå®¶ä¼ä¸šç”Ÿäº§ç¯å¢ƒéªŒè¯

### 3.2 æ ¸å¿ƒæ¶æ„ä¼˜åŠ¿

#### åŸºäº Envoy çš„é«˜æ€§èƒ½å†…æ ¸
- **Envoy**: CNCF æ¯•ä¸šé¡¹ç›®,ç»è¿‡å¤§è§„æ¨¡ç”Ÿäº§éªŒè¯
- **æ€§èƒ½å“è¶Š**: ç›¸æ¯” NGINX,å»¶è¿Ÿæ›´ä½ã€ååæ›´é«˜
- **åŠ¨æ€é…ç½®**: æ— éœ€é‡å¯å³å¯æ›´æ–°è·¯ç”±è§„åˆ™

#### ä¸‰å±‚ API å…¼å®¹
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Gateway API (æœªæ¥æ ‡å‡†)            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ï¿½
â”‚   Ingress API (å®Œå…¨å…¼å®¹ NGINX)      â”‚  â† å¹³æ»‘è¿ç§»å…³é”®!
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ï¿½
â”‚   HTTP Route API (Higress æ‰©å±•)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 åå¤§æ ¸å¿ƒä¼˜åŠ¿

#### 1. é›¶å­¦ä¹ æˆæœ¬è¿ç§»
- âœ… 100% å…¼å®¹ Ingress API
- âœ… æ”¯æŒæ‰€æœ‰æ ‡å‡†æ³¨è§£
- âœ… åªéœ€ä¿®æ”¹ `ingress.class`,å…¶ä½™é…ç½®æ— éœ€æ”¹åŠ¨

#### 2. æ¸è¿›å¼æ¼”è¿›
- âœ… å…ˆç”¨ Ingress API è¿ç§»
- âœ… åç»­å¯æŒ‰éœ€å‡çº§åˆ° Gateway API
- âœ… ä¸å¿…ä¸€æ¬¡æ€§æ”¹å†™æ‰€æœ‰é…ç½®

#### 3. ä¸°å¯Œçš„æ’ä»¶ç”Ÿæ€
- ğŸ”Œ **é™æµé™çº§**: ä»¤ç‰Œæ¡¶ã€æ»‘åŠ¨çª—å£ç­‰å¤šç§ç®—æ³•
- ğŸ”Œ **è®¤è¯é‰´æƒ**: JWTã€OAuth2ã€BasicAuth
- ğŸ”Œ **å®‰å…¨é˜²æŠ¤**: WAFã€IPé»‘ç™½åå•ã€é˜²çˆ¬è™«
- ğŸ”Œ **å¯è§‚æµ‹æ€§**: Prometheusã€Skywalkingã€Jaeger
- ğŸ”Œ **åè®®è½¬æ¢**: gRPC-Webã€Websocket

#### 4. æ›¿ä»£ Snippets çš„å®‰å…¨æ–¹æ¡ˆ

åŸæ¥ Ingress NGINX çš„ snippets æ³¨è§£(å®‰å…¨éšæ‚£):
```yaml
annotations:
  nginx.ingress.kubernetes.io/configuration-snippet: |
    more_set_headers "X-Custom: value";  # å±é™©!
```

Higress ä½¿ç”¨**ç±»å‹å®‰å…¨çš„æ’ä»¶**æ›¿ä»£:
```yaml
annotations:
  higress.io/response-header-add: "X-Custom: value"  # å®‰å…¨!
```

#### 5. ä¼ä¸šçº§å¯è§‚æµ‹æ€§
- ğŸ“Š å†…ç½® Grafana ä»ªè¡¨ç›˜
- ğŸ“ˆ Prometheus æŒ‡æ ‡é‡‡é›†
- ğŸ” åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ª
- ğŸ“ è®¿é—®æ—¥å¿—ç»“æ„åŒ–è¾“å‡º

#### 6. æ§åˆ¶å°å¯è§†åŒ–ç®¡ç†
- ğŸ–¥ï¸ Web UI ç®¡ç†è·¯ç”±
- ğŸ“Š å®æ—¶æµé‡ç›‘æ§
- ğŸ”§ æ’ä»¶å¯è§†åŒ–é…ç½®
- ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡å¤§ç›˜

#### 7. å¤šé›†ç¾¤æ”¯æŒ
- ğŸŒ ç»Ÿä¸€ç½‘å…³ç®¡ç†å¤šä¸ª K8s é›†ç¾¤
- ğŸ”„ è·¨é›†ç¾¤æµé‡è°ƒåº¦
- ğŸ”€ ç°åº¦å‘å¸ƒã€é‡‘ä¸é›€å‘å¸ƒ

#### 8. é˜¿é‡Œäº‘ç”Ÿäº§éªŒè¯
- ğŸ’ª ç»å†è¿‡åŒ11ã€åŒ12æµé‡æ´ªå³°
- ğŸ“ˆ æ”¯æ’‘æ•°åä¸‡ QPS
- âš¡ äº¿çº§å¹¶å‘è¿æ¥

#### 9. ä¸­æ–‡æ–‡æ¡£å‹å¥½
- ğŸ“š å®Œæ•´çš„ä¸­æ–‡æ–‡æ¡£
- ğŸ’¬ ä¸­æ–‡ç¤¾åŒºæ”¯æŒ
- ğŸ› ï¸ å›½å†…å›¢é˜Ÿå¿«é€Ÿå“åº”

#### 10. å¼€æºå…è´¹
- ğŸ†“ å®Œå…¨å¼€æº,Apache 2.0 åè®®
- ğŸ’° æ— å•†ä¸šæˆæƒè´¹ç”¨
- ğŸ¤ ç¤¾åŒºç‰ˆåŠŸèƒ½å®Œæ•´

### 3.4 æ€§èƒ½å¯¹æ¯”

**å‹æµ‹ç¯å¢ƒ**: 4C8G, 1000å¹¶å‘

| æŒ‡æ ‡ | Ingress NGINX | Higress | æå‡ |
|------|---------------|---------|------|
| QPS | 12,000 | 18,000 | +50% |
| P99å»¶è¿Ÿ | 45ms | 28ms | -38% |
| å†…å­˜å ç”¨ | 800MB | 650MB | -19% |
| CPUä½¿ç”¨ | 65% | 48% | -26% |

---

## å››ã€å®æˆ˜:10åˆ†é’Ÿå®Œæˆè¿ç§»

### 4.1 ç¯å¢ƒå‡†å¤‡

**å‰ç½®æ¡ä»¶:**
- âœ… Kubernetes 1.20+
- âœ… Helm 3.0+
- âœ… kubectl å‘½ä»¤è¡Œå·¥å…·

### 4.2 å®‰è£… Higress

#### æ–¹å¼ä¸€:Helm å®‰è£…(æ¨è)

```bash
# 1. æ·»åŠ  Helm ä»“åº“
helm repo add higress.io https://higress.io/helm-charts
helm repo update

# 2. åˆ›å»ºå‘½åç©ºé—´
kubectl create namespace higress-system

# 3. å®‰è£… Higress
helm install higress -n higress-system higress.io/higress \
  --set global.ingressClass=higress \
  --set gateway.replicas=2

# 4. éªŒè¯å®‰è£…
kubectl get pods -n higress-system
kubectl get svc -n higress-system
```

**é¢„æœŸè¾“å‡º:**
```
NAME                                READY   STATUS    RESTARTS   AGE
higress-controller-xxx              1/1     Running   0          1m
higress-gateway-xxx                 1/1     Running   0          1m
```

### 4.3 è¿ç§»é…ç½®ç¤ºä¾‹

#### åœºæ™¯ä¸€:åŸºç¡€ HTTP è·¯ç”±

**åŸ Ingress NGINX é…ç½®:**
```yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: example-ingress
  annotations:
    kubernetes.io/ingress.class: nginx
spec:
  rules:
  - host: example.com
    http:
      paths:
      - path: /api
        pathType: Prefix
        backend:
          service:
            name: api-service
            port:
              number: 8080
```

**è¿ç§»åˆ° Higress(åªæ”¹1è¡Œ):**
```yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: example-ingress
  annotations:
    kubernetes.io/ingress.class: higress  # åªéœ€ä¿®æ”¹è¿™é‡Œ!
spec:
  rules:
  - host: example.com
    http:
      paths:
      - path: /api
        pathType: Prefix
        backend:
          service:
            name: api-service
            port:
              number: 8080
```

---

## äº”ã€å¸¸è§é—®é¢˜ FAQ

### Q1: Higress æ˜¯å…è´¹çš„å—?

**A:** æ˜¯çš„,Higress å®Œå…¨å¼€æºå…è´¹,é‡‡ç”¨ Apache 2.0 åè®®ã€‚

### Q2: æ€§èƒ½ä¼šä¸‹é™å—?

**A:** ä¸ä¼š,åè€Œä¼šæå‡!åŸºäº Envoy,æ€§èƒ½ä¼˜äº NGINXã€‚

### Q3: å­¦ä¹ æˆæœ¬é«˜å—?

**A:** é›¶å­¦ä¹ æˆæœ¬!100% å…¼å®¹ Ingress API æ ‡å‡†ã€‚

---

## å…­ã€ç»“è¯­

**ç«‹å³è¡ŒåŠ¨å»ºè®®:**

1. **æ£€æŸ¥ç°çŠ¶**: `kubectl get ingress -A | grep nginx`
2. **æµ‹è¯•ç¯å¢ƒè¯•ç‚¹**: éƒ¨ç½² Higress éªŒè¯
3. **åˆ¶å®šè¿ç§»è®¡åˆ’**: 2026å¹´3æœˆå‰å®Œæˆè¿ç§»
4. **ç”Ÿäº§ç¯å¢ƒè¿ç§»**: å¹¶è¡Œéƒ¨ç½²,ç°åº¦åˆ‡æ¢

**æ—¶é—´ä¸ç­‰äºº**,å®‰å…¨æ›´ä¸èƒ½æ‹–å»¶ã€‚å»ºè®®å¤§å®¶å°½å¿«è¡ŒåŠ¨èµ·æ¥,åœ¨2026å¹´3æœˆå‰å®Œæˆè¿ç§»,è®©ä½ çš„ Kubernetes é›†ç¾¤æ›´å®‰å…¨ã€æ›´å¼ºå¤§!

---

**å…³æ³¨æˆ‘,æŒç»­åˆ†äº«:**
- ğŸ’» Kubernetes å®æˆ˜ç»éªŒ
- ğŸ”§ äº‘åŸç”ŸæŠ€æœ¯æ ˆ
- ğŸš€ DevOps æœ€ä½³å®è·µ

**åˆ«å¿˜äº†ç‚¹èµã€åœ¨çœ‹ã€åˆ†äº«ä¸‰è¿**,è®©æ›´å¤šå°ä¼™ä¼´çœ‹åˆ°è¿™ç¯‡é‡è¦ä¿¡æ¯!

**ä¸‹æœŸé¢„å‘Š**: ã€ŠHigress æ’ä»¶å¼€å‘å®æˆ˜:æ‰“é€ ä½ çš„ä¸“å± API ç½‘å…³ã€‹

---

## å‚è€ƒèµ„æº

- Ingress NGINX é€€å½¹å…¬å‘Š: https://www.kubernetes.dev/blog/2025/11/12/ingress-nginx-retirement/
- Higress å®˜ç½‘: https://higress.io
- Higress GitHub: https://github.com/alibaba/higress
- Gateway API å®˜æ–¹æ–‡æ¡£: https://gateway-api.sigs.k8s.io/
